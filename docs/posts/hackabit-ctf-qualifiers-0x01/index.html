<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>HackABit CTF Qualifiers 0x01 - WriteUp :: CodeAPretzel</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A writeup of the main challenge category, infrastructure. Over these challenges, we will see their vulnerabilities." />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://codeapretzel.github.io/posts/hackabit-ctf-qualifiers-0x01/" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-J6PB683BSR"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-J6PB683BSR', { 'anonymize_ip': false });
}
</script>





  
  
  
  
  
  <link rel="stylesheet" href="https://codeapretzel.github.io/styles.css">







  <link rel="shortcut icon" href="https://codeapretzel.github.io/img/theme-colors/orange.png">
  <link rel="apple-touch-icon" href="https://codeapretzel.github.io/img/theme-colors/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="codeapretzel" />
  
    <meta name="twitter:creator" content="PretzelMano" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="HackABit CTF Qualifiers 0x01 - WriteUp">
<meta property="og:description" content="A writeup of the main challenge category, infrastructure. Over these challenges, we will see their vulnerabilities." />
<meta property="og:url" content="https://codeapretzel.github.io/posts/hackabit-ctf-qualifiers-0x01/" />
<meta property="og:site_name" content="CodeAPretzel" />

  
  
  <meta property="og:image" content="https://codeapretzel.github.io/">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2023-09-04 18:42:23 -0500 CDT" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    CodeAPretzel
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;‚ñæ</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/contact">Contact</a></li>
        
      
        
          <li><a href="/posts">Posts</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/contact" >Contact</a></li>
        
      
        
          <li><a href="/posts" >Posts</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://codeapretzel.github.io/posts/hackabit-ctf-qualifiers-0x01/">HackABit CTF Qualifiers 0x01 - WriteUp</a>
  </h1>
  <div class="post-meta"><time class="post-date">2023-09-04</time><span class="post-author">CodeAPretzel</span></div>

  
    <span class="post-tags">
      
      #<a href="https://codeapretzel.github.io/tags/ctf/">ctf</a>&nbsp;
      
      #<a href="https://codeapretzel.github.io/tags/infrastructure/">infrastructure</a>&nbsp;
      
      #<a href="https://codeapretzel.github.io/tags/writeup/">writeup</a>&nbsp;
      
      #<a href="https://codeapretzel.github.io/tags/beginners/">beginners</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h1 id="-hack-a-bit-0x01-">üí• Hack-A-Bit 0x01 üí•<a href="#-hack-a-bit-0x01-" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<!-- raw HTML omitted -->
<p>In the Hack-a-Bit (HaB) category infastructure, you will find the following challenges with their designated points:</p>
<ol>
<li>
<ul>
<li>Captain (75 points)</li>
</ul>
</li>
<li>
<ul>
<li>Seashell (75 points)</li>
</ul>
</li>
<li>
<ul>
<li>Loading (100 points)</li>
</ul>
</li>
<li>
<ul>
<li>Location (100 points)</li>
</ul>
</li>
<li>
<ul>
<li>Connector (125 points)</li>
</ul>
</li>
<li>
<ul>
<li>Boat (125 points)</li>
</ul>
</li>
<li>
<ul>
<li>Inspector (150 points)</li>
</ul>
</li>
<li>
<ul>
<li>Hammer (150 points)</li>
</ul>
</li>
</ol>
<p>With each challenge we will figure out the problems and how to solve each one:</p>
<!-- raw HTML omitted -->
<h2 id="--captain---">- Captain üåä -<a href="#--captain---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Cloud infrastructure is migrating to containerized technology in many places, lets get started with containers. Run this docker container with the environment variable FLAG_ENABLER set to give_me_the_flag.</p>
<p><strong>Container</strong>: <a href="https://hub.docker.com/r/nathanielsinger/hackabit0x01-infrastructure-container1">https://hub.docker.com/r/nathanielsinger/hackabit0x01-infrastructure-container1</a></p>
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: The point of this challenge is for the challenger to find a way to run the container with defining the set variable in the container. For this challenge you can use any updated distro of Linux. Before we could use the pull request in URL given, we first need to install the Docker packages necessary using the command line below:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  sudo apt-get update
  sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre><!-- raw HTML omitted -->
<p>After that we pull the container from the URL:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  docker pull nathanielsinger/hackabit0x01-infrastructure-container1
</code></pre><!-- raw HTML omitted -->
<p>Afterwards, all we need to do is set the ENV. variable for the container which, after a google search later, we get the following command:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  sudo docker run -e FLAG_ENABLER=give_me_the_flag nathanielsinger/hackabit0x01-infrastructure-container1 #
</code></pre><!-- raw HTML omitted -->
<p>This brings the output: <strong>flag{you_aren&rsquo;t_the_captain_just_yet}</strong></p>
<!-- raw HTML omitted -->
<h2 id="--seashell---">- Seashell üêö -<a href="#--seashell---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: SSH runs the internet. Connect to utkwrgubhj.qualifier.hackabit.com on port 22 with user hackerman and the provided private key.</p>
<p><strong>Key</strong>: <!-- raw HTML omitted -->Go to File<!-- raw HTML omitted --></p>
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: The point of this challenge is for the challenger to learn about connections with private and public keys and how to gain access into a session using one of the keys. To begin with, after downloading the key, we are told in the challenge that we will have to use SSH (secure socket shell) on port 22, which SSH runs on default. In order to use a key with SSH for a session we use the -i parameter for the following command:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  ssh -i id_rsa hackerman@utkwrgubhj.qualifier.hackabit.com  #make sure you go to the directory where you saved your file
</code></pre><!-- raw HTML omitted -->
<p>However, the session doesn&rsquo;t accept this because the key has too many accessible permissions. To reduce the permissions needed for the session to just read the key, we will use the command bellow:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  chmod 400 id_rsa
</code></pre><!-- raw HTML omitted -->
<p>After this we will just run the first command and get the output: <strong>flag{shesellsseashellsbytheseaaaaaaashore}</strong></p>
<!-- raw HTML omitted -->
<p><em>Side Note: I tried running these commands on the actual session but it appeared to be down.</em></p>
<!-- raw HTML omitted -->
<h2 id="--loading---">- Loading üåÄ -<a href="#--loading---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: What&rsquo;s in this ISO thing?</p>
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: With this challenge we are given the same Docker container from the Captain challenge. With no clue on what the challenge has in store, let&rsquo;s see what information we can get from extracting the image from the container and saving it to our system using the command below.</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  docker save nathanielsinger/hackabit0x01-infrastructure-container1 &gt; image.tar
</code></pre><!-- raw HTML omitted -->
<p>Finally, just like a .zip file, we have to unpack the .tar file using the following command:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  tar -xvf image.tar
</code></pre><!-- raw HTML omitted -->
<p>Afterward, go to the directory you&rsquo;re in and find the folder 89552&hellip;ea423 and the file layer.tar. Unpack the .tar <code>tar -xvf layer.tar</code>
<!-- raw HTML omitted -->
With that, you go from <code>root &gt; flag_image.iso</code> then <code>cat FLAG.TXT</code></p>
<!-- raw HTML omitted -->
<p>Getting the output: <strong>flag{consider_it_loaded_hackerman}</strong></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="--location---">- Location üåé -<a href="#--location---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Now with the same image, dive on in and find the iso image. What is the absolute path to the iso image stored within the container? Include the filename in the path for your submission.</p>
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: This one is pretty simple, the path of the file is just the location in the container. If we go back to the folder <code>root</code> from layer.tar to <code>flag_image.iso</code>, it would be something like <code>/root/flag_image.iso</code></p>
<!-- raw HTML omitted -->
<h2 id="--connector---">- Connector üîå -<a href="#--connector---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Connect to the mysql server at dyxvqmjwaj.qualifier.hackabit.com and read out the flag. Here are some user accounts:</p>
<!-- raw HTML omitted -->
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: For this challenge we need to go into the challenge&rsquo;s MySQL database, I used MySQL for this. With this challenge I installed it on Windows using this link <!-- raw HTML omitted -->here<!-- raw HTML omitted -->
After completing the installation process, we have to create a new MySQL Connection like the below images:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Then we put the following information in the fields:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>With this we should connect to the server, however, it would appear that the server is actually down. Nevertheless, when going to each user and checking their tables, you&rsquo;ll eventually go to <code>user4</code> and find the table with the solution&rsquo;s flag.</p>
<!-- raw HTML omitted -->
<p>Flag: <strong>flag{oh_sql_my_sql}</strong></p>
<!-- raw HTML omitted -->
<h2 id="--boat---">- Boat ‚õµ -<a href="#--boat---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Sometimes we need to run a machine on a specific address or virtualize a network, get this running on: 172.22.1.11.</p>
<p><strong>Container</strong>: <a href="https://hub.docker.com/r/nathanielsinger/hackabit0x01-infrastructure-container2">https://hub.docker.com/r/nathanielsinger/hackabit0x01-infrastructure-container2</a></p>
<p>|
<!-- raw HTML omitted --></p>
<p><strong>Solution</strong>: This challenge just giving us a Docker container to run on an IP. First things first, grab the pull request from the URL run it and wait, we get an error.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Not to worry however, from this Docker discussion, <!-- raw HTML omitted -->here<!-- raw HTML omitted -->, we find out that an error response might be due to the fact that we have to specify the version of the container. In the form, it says that we can go to the container and under the header &ldquo;tags&rdquo; get the version we need.</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code> docker pull nathanielsinger/hackabit0x01-infrastructure-container2:v1.0.0
</code></pre><!-- raw HTML omitted -->
<p>Now that we have the container, we need to figure out on how to set this to an IP. With some googling, we will find a Docker documentation for just this feature <!-- raw HTML omitted -->here.<!-- raw HTML omitted -->
Using the link above, we can create our own commands as such in the following image:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>And you get the following flag: <strong>flag{its_just_an_address_man}</strong></p>
<!-- raw HTML omitted -->
<h2 id="--inspector---">- Inspector üîç -<a href="#--inspector---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Oh look its Bits, something changed though&hellip; see if you can track it down.</p>
<p><strong>File</strong>: <!-- raw HTML omitted -->Go to File<!-- raw HTML omitted --></p>
<p>With this file, we are given the code documentation for the bot &ldquo;Bits&rdquo; in the HaB Discord server. At a first glance, it might be difficult to determine what the challenge is asking but looking into the challenge&rsquo;s material, <!-- raw HTML omitted -->here<!-- raw HTML omitted -->, it appears that we are supposed to get a git version of Bits.
<!-- raw HTML omitted -->
When looking through the files in Bits, we get to a file with the directory <code>C:\Users\$USER\Downloads\bits\bits\.git\logs\HEAD</code>. Inside of this file, we get the following commit hash <code>a0235bf2cf43159eff20f5b3d568a21ab288c9ff</code> with the description <code>flag_stuff</code>.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>First, go to the directory where bits is stored, then use the command below to go to the committed version of <code>flag_stuff</code>.</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  git checkout a0235bf2cf43159eff20f5b3d568a21ab288c9ff
</code></pre><!-- raw HTML omitted -->
<p>After that we are given a file called &ldquo;flag&rdquo;. Now we use this command to read the file:</p>
<!-- raw HTML omitted -->
<pre tabindex="0"><code>  cat flag
</code></pre><!-- raw HTML omitted -->
<p>Or this command:</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>  grep -r <span style="color:#e6db74">&#34;flag&#34;</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Giving us the output: <strong>flag{don&rsquo;t_try_harder&hellip;look_harder}</strong></p>
<!-- raw HTML omitted -->
<h2 id="--hammer---">- Hammer üî® -<a href="#--hammer---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><strong>Challenge</strong>: Check out oslyxpzcgs.qualifier.hackabit.com and see if you can find the vuln. No help on this one, nothing crazy though&hellip; enumerate harder :)</p>
<p>The flag is stored in an environment variable.</p>
<p>With this challenge I actually didn&rsquo;t finish this. I would just do it right here, however, it would appear that the session is currently down, but what I&rsquo;ve learned from this challenge is that it&rsquo;s a <code>vsftpd Smiley Face Backdoor</code> vulnerability. Apparently using the :) in the username results in shell listening on TCP port 6200.</p>
<!-- raw HTML omitted -->
<p>You can learn more <!-- raw HTML omitted -->here<!-- raw HTML omitted -->.</p>
<p>~ CodeAPretzel</p>

      </div></div>

  
    
  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>CodeAPretzel</span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
